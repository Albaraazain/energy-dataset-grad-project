{
    "sourceFile": "components/CategoryDialog.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1730128509875,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1730131208348,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,8 +18,9 @@\n   onSave,\r\n   category,\r\n   mode\r\n }) => {\r\n+  // Initialize form data with existing category data or default values\r\n   const [formData, setFormData] = useState<Partial<Category>>(\r\n     category || {\r\n       title: '',\r\n       description: '',\r\n@@ -27,8 +28,22 @@\n       links: []\r\n     }\r\n   );\r\n \r\n+  // Reset form data when the dialog opens or category changes\r\n+  useEffect(() => {\r\n+    if (category && mode === 'edit') {\r\n+      setFormData(category);\r\n+    } else {\r\n+      setFormData({\r\n+        title: '',\r\n+        description: '',\r\n+        icon: 'Database',\r\n+        links: []\r\n+      });\r\n+    }\r\n+  }, [category, mode]);\r\n+\r\n   const handleSubmit = (e: React.FormEvent) => {\r\n     e.preventDefault();\r\n     onSave(formData);\r\n     onClose();\r\n"
                },
                {
                    "date": 1730131377598,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,6 @@\n-import React, { useState } from 'react';\r\n+// CategoryDialog.tsx\r\n+import React, { useState, useEffect } from 'react';\r\n import { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\n import { Input } from '@/components/ui/input';\r\n import { Button } from '@/components/ui/button';\r\n import { Category } from '@/types';\r\n"
                },
                {
                    "date": 1730131490359,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,46 +1,51 @@\n // CategoryDialog.tsx\r\n-import React, { useState, useEffect } from 'react';\r\n-import { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\n-import { Input } from '@/components/ui/input';\r\n-import { Button } from '@/components/ui/button';\r\n-import { Category } from '@/types';\r\n+\"use client\";\r\n \r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Dialog,\r\n+  DialogContent,\r\n+  DialogHeader,\r\n+  DialogTitle,\r\n+} from \"@/components/ui/dialog\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Category } from \"@/types\";\r\n+\r\n interface CategoryDialogProps {\r\n   isOpen: boolean;\r\n   onClose: () => void;\r\n   onSave: (category: Partial<Category>) => void;\r\n   category?: Category;\r\n-  mode: 'add' | 'edit';\r\n+  mode: \"add\" | \"edit\";\r\n }\r\n \r\n const CategoryDialog: React.FC<CategoryDialogProps> = ({\r\n   isOpen,\r\n   onClose,\r\n   onSave,\r\n   category,\r\n-  mode\r\n+  mode,\r\n }) => {\r\n-  // Initialize form data with existing category data or default values\r\n   const [formData, setFormData] = useState<Partial<Category>>(\r\n     category || {\r\n-      title: '',\r\n-      description: '',\r\n-      icon: 'Database',\r\n-      links: []\r\n+      title: \"\",\r\n+      description: \"\",\r\n+      icon: \"Database\",\r\n+      links: [],\r\n     }\r\n   );\r\n \r\n-  // Reset form data when the dialog opens or category changes\r\n   useEffect(() => {\r\n-    if (category && mode === 'edit') {\r\n+    if (category && mode === \"edit\") {\r\n       setFormData(category);\r\n-    } else {\r\n+    } else if (!category && mode === \"add\") {\r\n       setFormData({\r\n-        title: '',\r\n-        description: '',\r\n-        icon: 'Database',\r\n-        links: []\r\n+        title: \"\",\r\n+        description: \"\",\r\n+        icon: \"Database\",\r\n+        links: [],\r\n       });\r\n     }\r\n   }, [category, mode]);\r\n \r\n@@ -53,34 +58,44 @@\n   return (\r\n     <Dialog open={isOpen} onOpenChange={onClose}>\r\n       <DialogContent className=\"bg-gray-900 text-white\">\r\n         <DialogHeader>\r\n-          <DialogTitle>{mode === 'add' ? 'Add New Category' : 'Edit Category'}</DialogTitle>\r\n+          <DialogTitle>\r\n+            {mode === \"add\" ? \"Add New Category\" : \"Edit Category\"}\r\n+          </DialogTitle>\r\n         </DialogHeader>\r\n         <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n           <div>\r\n             <label className=\"text-sm font-medium text-gray-200\">Title</label>\r\n             <Input\r\n               value={formData.title}\r\n-              onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n+              onChange={(e) =>\r\n+                setFormData({ ...formData, title: e.target.value })\r\n+              }\r\n               placeholder=\"Category Title\"\r\n               className=\"bg-gray-800 border-gray-700 text-white\"\r\n             />\r\n           </div>\r\n           <div>\r\n-            <label className=\"text-sm font-medium text-gray-200\">Description</label>\r\n+            <label className=\"text-sm font-medium text-gray-200\">\r\n+              Description\r\n+            </label>\r\n             <Input\r\n               value={formData.description}\r\n-              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n+              onChange={(e) =>\r\n+                setFormData({ ...formData, description: e.target.value })\r\n+              }\r\n               placeholder=\"Category Description\"\r\n               className=\"bg-gray-800 border-gray-700 text-white\"\r\n             />\r\n           </div>\r\n           <div>\r\n             <label className=\"text-sm font-medium text-gray-200\">Icon</label>\r\n             <select\r\n               value={formData.icon}\r\n-              onChange={(e) => setFormData({ ...formData, icon: e.target.value })}\r\n+              onChange={(e) =>\r\n+                setFormData({ ...formData, icon: e.target.value })\r\n+              }\r\n               className=\"w-full h-10 rounded-md border border-gray-700 bg-gray-800 text-white px-3 py-2 text-sm\"\r\n             >\r\n               <option value=\"Database\">Database</option>\r\n               <option value=\"Sun\">Sun</option>\r\n@@ -104,14 +119,14 @@\n             <Button\r\n               type=\"submit\"\r\n               className=\"bg-blue-600 text-white hover:bg-blue-700\"\r\n             >\r\n-              {mode === 'add' ? 'Add Category' : 'Save Changes'}\r\n+              {mode === \"add\" ? \"Add Category\" : \"Save Changes\"}\r\n             </Button>\r\n           </div>\r\n         </form>\r\n       </DialogContent>\r\n     </Dialog>\r\n   );\r\n };\r\n \r\n\\ No newline at end of file\n-export default CategoryDialog;\n+export default CategoryDialog;\r\n"
                },
                {
                    "date": 1730137454206,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,11 +48,11 @@\n       });\r\n     }\r\n   }, [category, mode]);\r\n \r\n-  const handleSubmit = (e: React.FormEvent) => {\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n     e.preventDefault();\r\n-    onSave(formData);\r\n+    await onSave(formData);\r\n     onClose();\r\n   };\r\n \r\n   return (\r\n@@ -128,5 +128,5 @@\n     </Dialog>\r\n   );\r\n };\r\n \r\n-export default CategoryDialog;\n\\ No newline at end of file\n+export default CategoryDialog;\r\n"
                },
                {
                    "date": 1730236124616,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,140 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Dialog,\r\n+  DialogContent,\r\n+  DialogHeader,\r\n+  DialogTitle,\r\n+  DialogDescription,\r\n+  DialogFooter,\r\n+} from \"@/components/ui/dialog\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Category } from \"@/types\";\r\n+import { Label } from \"@/components/ui/label\";\r\n+\r\n+interface CategoryDialogProps {\r\n+  isOpen: boolean;\r\n+  onClose: () => void;\r\n+  onSave: (category: Partial<Category>) => void;\r\n+  category?: Category;\r\n+  mode: \"add\" | \"edit\";\r\n+}\r\n+\r\n+const CategoryDialog: React.FC<CategoryDialogProps> = ({\r\n+  isOpen,\r\n+  onClose,\r\n+  onSave,\r\n+  category,\r\n+  mode,\r\n+}) => {\r\n+  const [formData, setFormData] = useState<Partial<Category>>(\r\n+    category || {\r\n+      title: \"\",\r\n+      description: \"\",\r\n+      icon: \"Database\",\r\n+      links: [],\r\n+    }\r\n+  );\r\n+\r\n+  useEffect(() => {\r\n+    if (category && mode === \"edit\") {\r\n+      setFormData(category);\r\n+    } else if (!category && mode === \"add\") {\r\n+      setFormData({\r\n+        title: \"\",\r\n+        description: \"\",\r\n+        icon: \"Database\",\r\n+        links: [],\r\n+      });\r\n+    }\r\n+  }, [category, mode]);\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    await onSave(formData);\r\n+    onClose();\r\n+  };\r\n+\r\n+  return (\r\n+    <Dialog open={isOpen} onOpenChange={onClose}>\r\n+      <DialogContent className=\"bg-gray-900 text-white sm:max-w-md w-full\">\r\n+        <DialogHeader>\r\n+          <DialogTitle className=\"text-xl md:text-2xl\">\r\n+            {mode === \"add\" ? \"Add New Category\" : \"Edit Category\"}\r\n+          </DialogTitle>\r\n+          <DialogDescription className=\"text-gray-400\">\r\n+            {mode === \"add\" \r\n+              ? \"Create a new category to organize your datasets\" \r\n+              : \"Update the category details\"\r\n+            }\r\n+          </DialogDescription>\r\n+        </DialogHeader>\r\n+\r\n+        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n+          <div className=\"space-y-2\">\r\n+            <Label className=\"text-sm font-medium text-gray-200\">Title</Label>\r\n+            <Input\r\n+              value={formData.title}\r\n+              onChange={(e) =>\r\n+                setFormData({ ...formData, title: e.target.value })\r\n+              }\r\n+              placeholder=\"Enter category title\"\r\n+              className=\"bg-gray-800 border-gray-700 text-white h-11\"\r\n+            />\r\n+          </div>\r\n+\r\n+          <div className=\"space-y-2\">\r\n+            <Label className=\"text-sm font-medium text-gray-200\">Description</Label>\r\n+            <Input\r\n+              value={formData.description}\r\n+              onChange={(e) =>\r\n+                setFormData({ ...formData, description: e.target.value })\r\n+              }\r\n+              placeholder=\"Enter category description\"\r\n+              className=\"bg-gray-800 border-gray-700 text-white h-11\"\r\n+            />\r\n+          </div>\r\n+\r\n+          <div className=\"space-y-2\">\r\n+            <Label className=\"text-sm font-medium text-gray-200\">Icon</Label>\r\n+            <select\r\n+              value={formData.icon}\r\n+              onChange={(e) =>\r\n+                setFormData({ ...formData, icon: e.target.value })\r\n+              }\r\n+              className=\"w-full h-11 rounded-md border border-gray-700 bg-gray-800 text-white px-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500\"\r\n+            >\r\n+              <option value=\"Database\">Database</option>\r\n+              <option value=\"Sun\">Sun</option>\r\n+              <option value=\"Activity\">Activity</option>\r\n+              <option value=\"BarChart2\">BarChart</option>\r\n+              <option value=\"Building2\">Building</option>\r\n+              <option value=\"Gauge\">Gauge</option>\r\n+              <option value=\"Cloud\">Cloud</option>\r\n+              <option value=\"Leaf\">Leaf</option>\r\n+            </select>\r\n+          </div>\r\n+\r\n+          <DialogFooter className=\"sm:justify-between gap-4 mt-6\">\r\n+            <Button\r\n+              type=\"button\"\r\n+              variant=\"outline\"\r\n+              onClick={onClose}\r\n+              className=\"bg-transparent border-gray-700 text-white hover:bg-gray-800 flex-1 sm:flex-none h-11\"\r\n+            >\r\n+              Cancel\r\n+            </Button>\r\n+            <Button\r\n+              type=\"submit\"\r\n+              className=\"bg-blue-600 text-white hover:bg-blue-700 flex-1 sm:flex-none h-11\"\r\n+            >\r\n+              {mode === \"add\" ? \"Add Category\" : \"Save Changes\"}\r\n+            </Button>\r\n+          </DialogFooter>\r\n+        </form>\r\n+      </DialogContent>\r\n+    </Dialog>\r\n+  );\r\n+};\r\n+\r\n+export default CategoryDialog;\n\\ No newline at end of file\n"
                }
            ],
            "date": 1730128509875,
            "name": "Commit-0",
            "content": "import React, { useState } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Category } from '@/types';\r\n\r\ninterface CategoryDialogProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSave: (category: Partial<Category>) => void;\r\n  category?: Category;\r\n  mode: 'add' | 'edit';\r\n}\r\n\r\nconst CategoryDialog: React.FC<CategoryDialogProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onSave,\r\n  category,\r\n  mode\r\n}) => {\r\n  const [formData, setFormData] = useState<Partial<Category>>(\r\n    category || {\r\n      title: '',\r\n      description: '',\r\n      icon: 'Database',\r\n      links: []\r\n    }\r\n  );\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    onSave(formData);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"bg-gray-900 text-white\">\r\n        <DialogHeader>\r\n          <DialogTitle>{mode === 'add' ? 'Add New Category' : 'Edit Category'}</DialogTitle>\r\n        </DialogHeader>\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"text-sm font-medium text-gray-200\">Title</label>\r\n            <Input\r\n              value={formData.title}\r\n              onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n              placeholder=\"Category Title\"\r\n              className=\"bg-gray-800 border-gray-700 text-white\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-sm font-medium text-gray-200\">Description</label>\r\n            <Input\r\n              value={formData.description}\r\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n              placeholder=\"Category Description\"\r\n              className=\"bg-gray-800 border-gray-700 text-white\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-sm font-medium text-gray-200\">Icon</label>\r\n            <select\r\n              value={formData.icon}\r\n              onChange={(e) => setFormData({ ...formData, icon: e.target.value })}\r\n              className=\"w-full h-10 rounded-md border border-gray-700 bg-gray-800 text-white px-3 py-2 text-sm\"\r\n            >\r\n              <option value=\"Database\">Database</option>\r\n              <option value=\"Sun\">Sun</option>\r\n              <option value=\"Activity\">Activity</option>\r\n              <option value=\"BarChart2\">BarChart</option>\r\n              <option value=\"Building2\">Building</option>\r\n              <option value=\"Gauge\">Gauge</option>\r\n              <option value=\"Cloud\">Cloud</option>\r\n              <option value=\"Leaf\">Leaf</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"flex justify-end space-x-2 pt-4\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={onClose}\r\n              className=\"bg-transparent border-gray-700 text-white hover:bg-gray-800\"\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              className=\"bg-blue-600 text-white hover:bg-blue-700\"\r\n            >\r\n              {mode === 'add' ? 'Add Category' : 'Save Changes'}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default CategoryDialog;"
        }
    ]
}