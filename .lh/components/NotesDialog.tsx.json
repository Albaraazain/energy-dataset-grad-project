{
    "sourceFile": "components/NotesDialog.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1730195648582,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1730201374843,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,11 +18,11 @@\n   isOpen: boolean;\r\n   onClose: () => void;\r\n   onSave: (notes: { content: string; lastUpdated: string }) => void;\r\n   initialNotes?: {\r\n-    content: string;\r\n-    lastUpdated: string;\r\n-  };\r\n+    content?: string | null;\r\n+    lastUpdated?: string | null;\r\n+  } | null;\r\n   title: string;\r\n }\r\n \r\n const NotesDialog: React.FC<NotesDialogProps> = ({\r\n@@ -31,14 +31,15 @@\n   onSave,\r\n   initialNotes,\r\n   title,\r\n }) => {\r\n-  const [notes, setNotes] = useState(initialNotes?.content || \"\");\r\n+  const [notes, setNotes] = useState(\"\");\r\n   const [charCount, setCharCount] = useState(0);\r\n   const maxChars = 5000; // Maximum character limit\r\n \r\n   useEffect(() => {\r\n-    if (initialNotes) {\r\n+    // Safely handle initialNotes being undefined or null\r\n+    if (initialNotes?.content) {\r\n       setNotes(initialNotes.content);\r\n       setCharCount(initialNotes.content.length);\r\n     } else {\r\n       setNotes(\"\");\r\n"
                },
                {
                    "date": 1730201563588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,12 +33,10 @@\n   title,\r\n }) => {\r\n   const [notes, setNotes] = useState(\"\");\r\n   const [charCount, setCharCount] = useState(0);\r\n-  const maxChars = 5000; // Maximum character limit\r\n \r\n   useEffect(() => {\r\n-    // Safely handle initialNotes being undefined or null\r\n     if (initialNotes?.content) {\r\n       setNotes(initialNotes.content);\r\n       setCharCount(initialNotes.content.length);\r\n     } else {\r\n@@ -56,12 +54,10 @@\n   };\r\n \r\n   const handleTextChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n     const newText = e.target.value;\r\n-    if (newText.length <= maxChars) {\r\n-      setNotes(newText);\r\n-      setCharCount(newText.length);\r\n-    }\r\n+    setNotes(newText);\r\n+    setCharCount(newText.length);\r\n   };\r\n \r\n   return (\r\n     <Dialog open={isOpen} onOpenChange={onClose}>\r\n@@ -97,9 +93,9 @@\n                 lineHeight: \"1.5\",\r\n               }}\r\n             />\r\n             <div className=\"absolute bottom-2 right-2 text-xs text-gray-400\">\r\n-              {charCount}/{maxChars}\r\n+              {charCount} characters\r\n             </div>\r\n           </div>\r\n \r\n           <div className=\"text-xs text-gray-400\">\r\n"
                },
                {
                    "date": 1730236238041,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,4 @@\n-// components/NotesDialog.tsx\r\n-\"use client\";\r\n-\r\n import React, { useState, useEffect } from \"react\";\r\n import {\r\n   Dialog,\r\n   DialogContent,\r\n@@ -10,9 +7,9 @@\n   DialogDescription,\r\n   DialogFooter,\r\n } from \"@/components/ui/dialog\";\r\n import { Button } from \"@/components/ui/button\";\r\n-import { StickyNote, Clock } from \"lucide-react\";\r\n+import { StickyNote, Clock, Info } from \"lucide-react\";\r\n import { formatDistanceToNow } from \"date-fns\";\r\n \r\n interface NotesDialogProps {\r\n   isOpen: boolean;\r\n@@ -33,8 +30,9 @@\n   title,\r\n }) => {\r\n   const [notes, setNotes] = useState(\"\");\r\n   const [charCount, setCharCount] = useState(0);\r\n+  const [isFocused, setIsFocused] = useState(false);\r\n \r\n   useEffect(() => {\r\n     if (initialNotes?.content) {\r\n       setNotes(initialNotes.content);\r\n@@ -60,11 +58,11 @@\n   };\r\n \r\n   return (\r\n     <Dialog open={isOpen} onOpenChange={onClose}>\r\n-      <DialogContent className=\"bg-gray-900 text-white sm:max-w-2xl\">\r\n-        <DialogHeader>\r\n-          <DialogTitle className=\"flex items-center gap-2 text-xl\">\r\n+      <DialogContent className=\"bg-gray-900 text-white sm:max-w-2xl w-full h-[95vh] sm:h-auto flex flex-col\">\r\n+        <DialogHeader className=\"space-y-3\">\r\n+          <DialogTitle className=\"flex items-center gap-2 text-xl sm:text-2xl\">\r\n             <StickyNote className=\"w-5 h-5\" />\r\n             Notes for {title}\r\n           </DialogTitle>\r\n           <DialogDescription>\r\n@@ -81,52 +79,65 @@\n             </div>\r\n           </DialogDescription>\r\n         </DialogHeader>\r\n \r\n-        <div className=\"space-y-4\">\r\n-          <div className=\"relative\">\r\n+        <div className=\"flex-1 min-h-0 space-y-4 py-4\">\r\n+          <div className=\"relative flex-1 h-full\">\r\n             <textarea\r\n               value={notes}\r\n               onChange={handleTextChange}\r\n+              onFocus={() => setIsFocused(true)}\r\n+              onBlur={() => setIsFocused(false)}\r\n               placeholder=\"Add detailed notes about this resource...\"\r\n-              className=\"w-full h-96 rounded-md border border-gray-700 bg-gray-800 text-white px-4 py-3 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n+              className=\"w-full h-full min-h-[200px] rounded-md border border-gray-700 bg-gray-800 text-white px-4 py-3 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n               style={{\r\n                 lineHeight: \"1.5\",\r\n               }}\r\n             />\r\n-            <div className=\"absolute bottom-2 right-2 text-xs text-gray-400\">\r\n+            <div\r\n+              className={`absolute bottom-2 right-2 text-xs ${\r\n+                isFocused ? \"text-blue-400\" : \"text-gray-400\"\r\n+              } transition-colors`}\r\n+            >\r\n               {charCount} characters\r\n             </div>\r\n           </div>\r\n \r\n-          <div className=\"text-xs text-gray-400\">\r\n-            <ul className=\"list-disc list-inside space-y-1\">\r\n-              <li>Use clear and concise language</li>\r\n-              <li>Include relevant dates and version numbers if applicable</li>\r\n-              <li>Add any important links or references</li>\r\n-              <li>Highlight key findings or important details</li>\r\n-            </ul>\r\n+          <div className=\"bg-gray-800 rounded-lg p-4 space-y-3\">\r\n+            <div className=\"flex items-center gap-2 text-sm text-gray-300\">\r\n+              <Info className=\"w-4 h-4\" />\r\n+              <span>Writing Tips</span>\r\n+            </div>\r\n+            <div className=\"text-xs text-gray-400\">\r\n+              <ul className=\"list-disc list-inside space-y-1\">\r\n+                <li>Use clear and concise language</li>\r\n+                <li>Include relevant dates and version numbers if applicable</li>\r\n+                <li>Add any important links or references</li>\r\n+                <li>Highlight key findings or important details</li>\r\n+                <li>Tag important sections with #hashtags for easy searching</li>\r\n+              </ul>\r\n+            </div>\r\n           </div>\r\n         </div>\r\n \r\n-        <DialogFooter className=\"sm:justify-between\">\r\n-          <div className=\"flex items-center text-sm text-gray-400\">\r\n+        <DialogFooter className=\"sm:justify-between border-t border-gray-800 pt-4 mt-4\">\r\n+          <div className=\"hidden sm:flex items-center text-sm text-gray-400\">\r\n             <StickyNote className=\"w-4 h-4 mr-2\" />\r\n-            <span>Markdown formatting is supported</span>\r\n+            <span>Markdown formatting supported</span>\r\n           </div>\r\n-          <div className=\"flex gap-2\">\r\n+          <div className=\"flex flex-col sm:flex-row gap-3 w-full sm:w-auto\">\r\n             <Button\r\n               type=\"button\"\r\n               variant=\"outline\"\r\n               onClick={onClose}\r\n-              className=\"bg-transparent border-gray-700 text-white hover:bg-gray-800\"\r\n+              className=\"bg-transparent border-gray-700 text-white hover:bg-gray-800 w-full sm:w-auto order-2 sm:order-1\"\r\n             >\r\n               Cancel\r\n             </Button>\r\n             <Button\r\n               type=\"button\"\r\n               onClick={handleSave}\r\n-              className=\"bg-blue-600 text-white hover:bg-blue-700\"\r\n+              className=\"bg-blue-600 text-white hover:bg-blue-700 w-full sm:w-auto order-1 sm:order-2\"\r\n             >\r\n               Save Notes\r\n             </Button>\r\n           </div>\r\n"
                }
            ],
            "date": 1730195648582,
            "name": "Commit-0",
            "content": "// components/NotesDialog.tsx\r\n\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogDescription,\r\n  DialogFooter,\r\n} from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { StickyNote, Clock } from \"lucide-react\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\n\r\ninterface NotesDialogProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSave: (notes: { content: string; lastUpdated: string }) => void;\r\n  initialNotes?: {\r\n    content: string;\r\n    lastUpdated: string;\r\n  };\r\n  title: string;\r\n}\r\n\r\nconst NotesDialog: React.FC<NotesDialogProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onSave,\r\n  initialNotes,\r\n  title,\r\n}) => {\r\n  const [notes, setNotes] = useState(initialNotes?.content || \"\");\r\n  const [charCount, setCharCount] = useState(0);\r\n  const maxChars = 5000; // Maximum character limit\r\n\r\n  useEffect(() => {\r\n    if (initialNotes) {\r\n      setNotes(initialNotes.content);\r\n      setCharCount(initialNotes.content.length);\r\n    } else {\r\n      setNotes(\"\");\r\n      setCharCount(0);\r\n    }\r\n  }, [initialNotes, isOpen]);\r\n\r\n  const handleSave = () => {\r\n    onSave({\r\n      content: notes,\r\n      lastUpdated: new Date().toISOString(),\r\n    });\r\n    onClose();\r\n  };\r\n\r\n  const handleTextChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    const newText = e.target.value;\r\n    if (newText.length <= maxChars) {\r\n      setNotes(newText);\r\n      setCharCount(newText.length);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"bg-gray-900 text-white sm:max-w-2xl\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2 text-xl\">\r\n            <StickyNote className=\"w-5 h-5\" />\r\n            Notes for {title}\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            <div className=\"flex items-center gap-2 text-sm text-gray-400\">\r\n              <Clock className=\"w-4 h-4\" />\r\n              {initialNotes?.lastUpdated ? (\r\n                <span>\r\n                  Last updated{\" \"}\r\n                  {formatDistanceToNow(new Date(initialNotes.lastUpdated))} ago\r\n                </span>\r\n              ) : (\r\n                <span>No previous notes</span>\r\n              )}\r\n            </div>\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-4\">\r\n          <div className=\"relative\">\r\n            <textarea\r\n              value={notes}\r\n              onChange={handleTextChange}\r\n              placeholder=\"Add detailed notes about this resource...\"\r\n              className=\"w-full h-96 rounded-md border border-gray-700 bg-gray-800 text-white px-4 py-3 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              style={{\r\n                lineHeight: \"1.5\",\r\n              }}\r\n            />\r\n            <div className=\"absolute bottom-2 right-2 text-xs text-gray-400\">\r\n              {charCount}/{maxChars}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"text-xs text-gray-400\">\r\n            <ul className=\"list-disc list-inside space-y-1\">\r\n              <li>Use clear and concise language</li>\r\n              <li>Include relevant dates and version numbers if applicable</li>\r\n              <li>Add any important links or references</li>\r\n              <li>Highlight key findings or important details</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <DialogFooter className=\"sm:justify-between\">\r\n          <div className=\"flex items-center text-sm text-gray-400\">\r\n            <StickyNote className=\"w-4 h-4 mr-2\" />\r\n            <span>Markdown formatting is supported</span>\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={onClose}\r\n              className=\"bg-transparent border-gray-700 text-white hover:bg-gray-800\"\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              type=\"button\"\r\n              onClick={handleSave}\r\n              className=\"bg-blue-600 text-white hover:bg-blue-700\"\r\n            >\r\n              Save Notes\r\n            </Button>\r\n          </div>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default NotesDialog;"
        }
    ]
}